{"version":3,"sources":["MoneyPyramid.jpg","intern.png","public_qr.png","wx_qun.jpeg","App.js","serviceWorker.js","index.js"],"names":["module","exports","theRefereeId","theLarkCloud","LarkCloud","serviceId","baseURL","theUser","paramName","arrObj","document","location","toString","split","length","arr","arrPara","i","getUrlParam","loginIfNeededThen","completion","user","isLogin","then","Promise","resolve","reject","run","response","success","catch","err","console","log","finally","Referee","id","this","props","refereeName","React","Component","JD","className","HBR","style","LoginForm","phoneNumberDidChange","event","setState","phoneNumber","target","value","verficationCodeDidChange","verificationNumber","handleSubmit","code","wxId","cb","state","error","onSuccess","userInfo","preventDefault","tick","sendingSMS","clearInterval","timerID","countDown","setInterval","sendSMSIfNeeded","getCodeBtnText","onSubmit","Input","placeholder","required","onChange","InputGroup","InputGroupAddon","addonType","Button","color","disabled","onClick","size","block","type","CopyButtonWithToasts","addToast","useToasts","text","copyText","onCopy","result","toast","appearance","autoDismiss","autoDismissTimeout","RefereeLink","url","pic","useImage","_id","setTimeout","canvasImg","getElementsByTagName","toDataURL","sologon","textAlign","padding","src","alt","width","height","marginBottom","fgColor","Recommend","recommend","onActived","activeTag","loginDidSucceed","forceUpdate","content","active","refereeLevel","HR","Apply","apply","display","flexDirection","justifyContent","href","rel","internQRCode","MainPage","refereeId","Jumbotron","Manual","PublicService","References","mpImage","publicQR","customerServiceQR","App","Boolean","window","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.68e8a100.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/MoneyPyramid.a87c224d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/intern.3f602c7a.png\";","module.exports = __webpack_public_path__ + \"static/media/public_qr.f635ecc3.png\";","module.exports = __webpack_public_path__ + \"static/media/wx_qun.1c6fe7cc.jpeg\";","import React from 'react'\nimport { Button, Jumbotron, InputGroup, InputGroupAddon, Input } from 'reactstrap'\nimport { ToastProvider, useToasts } from 'react-toast-notifications'\nimport './App.css'\nimport LarkCloud from '@byted/larkcloud'\nimport QRCode from 'qrcode.react'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\n\nimport mpImage from './MoneyPyramid.jpg'\nimport internQRCode from './intern.png'\nimport publicQR from './public_qr.png'\nimport customerServiceQR from './wx_qun.jpeg'\n\nconst baseURL = 'https://refer.bytedance.com/'\nconst sologon = '推荐是一种美德，所以值得鼓励！'\n\nconst theLarkCloud = new LarkCloud({\n  serviceId: 'tt9rob',\n  baseURL: baseURL + 'api/'\n})\n\nlet theUser = null\nlet theRefereeId = null\n\nconst getUrlParam = (paramName) => {\n  const url = document.location.toString();\n  const arrObj = url.split(\"?\");\n\n  if (arrObj.length > 1) {\n    const arrPara = arrObj[1].split(\"&\");\n    let arr;\n\n    for (var i = 0; i < arrPara.length; i++) {\n      arr = arrPara[i].split(\"=\");\n\n      if (arr != null && arr[0] === paramName) {\n        return arr[1];\n      }\n    }\n  }\n  return \"\";\n}\n\ntheRefereeId = getUrlParam('refereeId')\n\nconst refereeNameFromId = (refereeId) => {\n  return new Promise((resolve, reject) => {\n    theLarkCloud.run('id2name', { refereeId })\n      .then((response) => {\n        resolve(response)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  })\n}\n\nconst sendSMS = (phoneNumber, cb) => {\n  theLarkCloud.run('sendSMS', { phoneNumber })\n    .then((response) => {\n      console.log(response)\n      cb(null)\n    })\n    .catch((error) => {\n      cb(error)\n    });\n}\n\nconst loginByPhone = (phoneNumber, code, wxId, cb) => {\n  theLarkCloud.run('loginByPhone', { phoneNumber, code, wxId })\n    .then((response) => {\n      if (response.success) {\n        theUser = response.userInfo\n      }\n      cb(null, response)\n    })\n    .catch((error) => {\n      cb(error)\n    })\n}\n\nconst currentUserInfo = () => {\n  return new Promise((resolve, reject) => {\n    theLarkCloud.run('currentUserInfo', {})\n      .then((response) => {\n        if (response.success) {\n          resolve(response.user)\n        }\n        else {\n          reject(response)\n        }\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  })\n}\n\nconst loginIfNeededThen = (completion) => {\n  if (theUser) {\n    completion()\n  }\n  else {\n    theLarkCloud.user.isLogin()\n      .then((isLogin) => {\n        if (isLogin) {\n          currentUserInfo()\n            .then((user) => { theUser = user })\n            .catch((err) => { console.log(err) })\n            .finally(() => {\n              completion()\n            })\n        }\n        else {\n          completion()\n        }\n      })\n  }\n}\n\n\nclass Referee extends React.Component {\n  render() {\n    return (\n      <div id=\"Referee\">--您的朋友(<i>尾号为{this.props.refereeName}</i>)推荐了您</div>\n    );\n  }\n}\n\nclass JD extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"AppInfo\" id=\"JD\">\n          <p>这次推荐的字节跳动岗位是，<ins>录取比例更高</ins>的，<ins>不需要任何客户端经验</ins>的\"客户端实习生\"，<strong><ins><i>每入职一个人</i></ins></strong>，就有<strong><ins><i>1,000 RMB</i></ins></strong> 等大家分！<strong><ins><i>HC无上限！</i></ins></strong></p>\n        </div>\n        <HBR/>\n        <div className=\"SmallInfo\">更多岗位陆续加入活动中，关注公主号获得更多机会...</div>\n      </div>\n    )\n  }\n}\n\nclass HBR extends React.Component {\n  render() { return (<div style={{ \"height\": '10px' }}></div>) }\n}\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      phoneNumber: '',\n      verificationNumber: '',\n      sendingSMS: 0\n    };\n    this.timerID = null\n  }\n\n  phoneNumberDidChange = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  }\n\n  verficationCodeDidChange = (event) => {\n    this.setState({ verificationNumber: event.target.value });\n  }\n\n  handleSubmit = (event) => {\n    loginByPhone(this.state.phoneNumber, this.state.verificationNumber, this.state.wxId, (error, response) => {\n      if (error !== null) {\n        console.log(error)\n      }\n      else {\n        if (response.success) {\n          this.props.onSuccess()\n        }\n      }\n    })\n    event.preventDefault();\n  }\n\n  tick = () => {\n    if (this.state.sendingSMS === 1) {\n      this.setState({ sendingSMS: 0 })\n      clearInterval(this.timerID)\n      this.timerID = null\n    }\n    else {\n      this.setState({ sendingSMS: this.state.sendingSMS - 1 })\n    }\n  }\n\n  countDown = () => {\n    this.setState({\n      sendingSMS: 60\n    })\n\n    this.timerID = setInterval(() => {\n      this.tick()\n    }, 1000)\n  }\n\n  componentWillUnmount() {\n    if (this.timerID) {\n      clearInterval(this.timerID);\n    }\n  }\n\n  sendSMSIfNeeded = () => {\n    if (this.state.phoneNumber) {\n      this.countDown()\n      sendSMS(this.state.phoneNumber, () => { })\n    }\n  }\n\n  render() {\n    const getCodeBtnText = this.state.sendingSMS === 0 ? \"获取验证码\" : `等待(${this.state.sendingSMS}s)`\n    return (\n      <div>\n        <div>为了可以兑换奖励，请输入手机号登录</div>\n        <HBR />\n        <form onSubmit={this.handleSubmit}>\n          <Input placeholder=\"手机号码\" required onChange={this.phoneNumberDidChange} />\n          <HBR />\n          <InputGroup>\n            <Input placeholder=\"验证码\" required onChange={this.verficationCodeDidChange} />\n            <InputGroupAddon addonType=\"append\">\n              <Button color=\"secondary\" disabled={this.state.sendingSMS !== 0} onClick={this.sendSMSIfNeeded}>{getCodeBtnText}</Button>\n            </InputGroupAddon>\n          </InputGroup>\n          <HBR />\n          <Button color=\"info\" size=\"lg\" block type=\"submit\">登录/注册</Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst CopyButtonWithToasts = (props) => {\n  const { addToast } = useToasts()\n\n  const copyDidFinish = (text, result) => {\n    addToast(props.toast, {\n      appearance: result ? 'success' : 'error',\n      autoDismiss: true,\n      autoDismissTimeout: 1500\n    })\n  }\n\n  return (\n    <CopyToClipboard text={props.copyText} onCopy={copyDidFinish}>\n      <Button color={props.color} size=\"sm\" style={props.style ? props.style : {}}>{props.text}</Button>\n    </CopyToClipboard>\n  )\n}\n\nclass RefereeLink extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      url: 'temp',\n      pic: '',\n      useImage: false\n    }\n  }\n\n  componentDidMount() {\n    const url = 'https://iamalchemist.github.io/money-pyramid/?refereeId=' + (theUser !== null ? theUser._id : '')\n    this.setState({ url })\n    setTimeout(() => {\n      const canvasImg = document.getElementsByTagName('canvas')[0];\n      if (canvasImg) {\n        this.setState({ pic: canvasImg.toDataURL(\"image/png\"), useImage: true })\n      }\n    }, 1000)\n  }\n\n  render() {\n    return (\n      <div className=\"AppInfo\">\n        <div><strong>引荐方式一</strong></div>\n        <ol>\n          <li>\n            <div>点击专属链接进行</div>\n            <CopyButtonWithToasts copyText={sologon + \"\\n\"+ this.state.url} text={this.state.url}  toast=\"专属链接已经复制\" color={'link'} style={{ textAlign: \"left\", padding: '0px' }} />\n          </li>\n          <li>\n            在微信/QQ中发送给朋友\n          </li>\n        </ol>\n        <div><strong>引荐方式二</strong></div>\n        <ol>\n          <li>\n            <div>微信/QQ中长按专属二维码</div>\n            <HBR />\n            {this.state.useImage && <img src={this.state.pic} alt=\"\" style={{ width: '128px', height: '128px', marginBottom: '5px' }} />}\n            {!this.state.useImage && <QRCode value={this.state.url} fgColor='#17a2b8' />}\n          </li>\n          <li>\n            在微信/QQ中发送给朋友\n          </li>\n        </ol>\n      </div>\n    )\n  }\n}\n\nclass Recommend extends React.Component {\n  recommend = () => {\n    loginIfNeededThen(() => {\n      this.props.onActived(this.props.activeTag)\n    })\n  }\n\n  loginDidSucceed = () => {\n    this.forceUpdate()\n  }\n\n  render() {\n    let content;\n    if (this.props.active) {\n      if (theUser !== null) {\n        content = <RefereeLink />\n      }\n      else {\n        content = (\n          <div>\n            <LoginForm onSuccess={this.loginDidSucceed} />\n            <HBR />\n          </div>\n        )\n      }\n    }\n    else {\n      content = (\n        <div>\n          <div><strong>知识点</strong></div>\n          <ol>\n            <li>注册后才能生成自己的推荐链接和二维码</li>\n            <li>只要转发就可以成为推荐人</li>\n            <li>转发层次（不是次数）不能超过8层</li>\n            <li>候选人入职后，所有相关推荐人可以平分奖金</li>\n          </ol>\n          <Button color=\"primary\" size=\"lg\" disabled={this.props.refereeLevel >= 8} block onClick={this.recommend}>我要推荐</Button>\n        </div>)\n    }\n\n    return (\n      <div>\n        <HR />\n        <h6>我是伯乐</h6>\n        {content}\n      </div>\n    )\n  }\n\n}\n\nclass Apply extends React.Component {\n  apply = () => {\n    loginIfNeededThen(() => {\n      this.props.onActived(this.props.activeTag)\n    })\n  }\n\n  loginDidSucceed = () => {\n    this.forceUpdate()\n  }\n\n  render() {\n    let content = null\n\n    if (this.props.active) {\n      if (theUser !== null) {\n        content = (\n          <div className=\"AppInfo\" style={{ display: 'flex', flexDirection: 'column', justifyContent: 'flex-start' }}>\n            <div><strong>投递方式一</strong></div>\n            <ol>\n              <li>\n                <div>\n                  <div>点击复制字节跳动校招内推码:</div>\n                  <CopyButtonWithToasts copyText='NNQVZ4E' text='NNQVZ4E' toast='内推码已经复制' color='info' />\n                </div>\n              </li>\n              <li>\n                <div>\n                  <div>打开岗位链接投递:</div>\n                  <a href=\"https://job.toutiao.com/s/tK371o\" rel=\"noopener noreferrer\" target=\"_blank\">https://job.toutiao.com/s/tK371o</a>\n                </div>\n              </li>\n            </ol>\n            <div><strong>投递方式二</strong></div>\n            <ol>\n              <li>\n                <div>\n                  <div>微信/QQ中长按二维码打开投递页面</div>\n                  <img src={internQRCode} style={{ width: '150px' }} alt=\"img\" />\n                </div>\n              </li>\n            </ol>\n          </div>\n        )\n      }\n      else {\n        content = (\n          <div>\n            <LoginForm />\n          </div>\n        )\n      }\n    }\n    else {\n      content = (\n        <div>\n          <div><strong>知识点</strong></div>\n          <ol>\n            <li>2019年实习生通过答辩几乎全部转正</li>\n            <li>客户端岗位比其他岗位通过率高</li>\n          </ol>\n          <div><strong>岗位要求</strong></div>\n          <ol>\n            <li>2021届获得本科及以上学历，软件工程、计算机等相关专业</li>\n            <li>热爱计算机科学和互联网技术，对移动产品有浓厚兴趣，无相关经验亦可</li>\n          </ol>\n          <Button color=\"success\" size=\"lg\" block onClick={this.apply}>我要投递</Button>\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <HR />\n        <h6>我是千里马</h6>\n        {content}\n      </div>\n    )\n  }\n}\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      activeTag: 0,\n      refereeName: \"...\",\n      refereeLevel: 8\n    }\n  }\n\n  componentDidMount() {\n    refereeNameFromId(theRefereeId)\n      .then((response) => {\n        const { refereeName, refereeLevel } = response\n        this.setState({\n          refereeName,\n          refereeLevel\n        })\n      })\n  }\n\n  onActived = (activeTag) => {\n    this.setState({ activeTag })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Jumbotron>\n          <h1>字节内推金子塔</h1>\n          <p>推荐是一种美德，所以值得奖励！</p>\n          <Referee refereeName={this.state.refereeName} />\n          <HBR />\n          <JD />\n        </Jumbotron>\n        <div id=\"MainPage\" className=\"container\">\n          <ToastProvider>\n            <Recommend active={this.state.activeTag === 1} activeTag={1} onActived={this.onActived} refereeLevel={this.state.refereeLevel} />\n            <Apply active={this.state.activeTag === 2} activeTag={2} onActived={this.onActived} />\n          </ToastProvider>\n        </div>\n        <Manual />\n        <PublicService />\n        <References />\n        <HBR />\n      </div>\n    )\n  }\n}\n\nfunction HR() {\n  return (<div><hr /></div>)\n}\n\nfunction Manual() {\n  return (\n    <div className=\"container\">\n      <HR />\n      <h6>内推游戏规则</h6>\n      <div>\n        <div className=\"AppInfo\">一图胜千言，如果黄色的奖杯入职了，那么所有绿色的相关推荐人和黄色的奖杯都可以平均分内推奖金</div>\n        <img src={mpImage} alt=\"img\" />\n        <h6>知识点</h6>\n        <div className=\"AppInfo\">\n          <ol>\n            <li>黑色的是字节的同学来当“客服”，TA会把大家拉入群中，负责维护好群内关系，回答问题，告诉大家内推进度，包括<span className=\"text-danger\"><ins>指导新人面试</ins></span>等</li>\n            <li>一旦\"奖杯\"入职，“客服”负责联系所有绿色节点，并通过微信/短信<span className=\"text-danger\"><ins>平分</ins></span>内推奖金</li>\n            <li>公司该岗位的<span className=\"text-danger\"><ins>全部内推奖金都会拿出来平分</ins></span>，具体每人获得的金额，取决于人数，但一个候选人的推荐人数不会超过8个</li>\n            <li>用户可以<span className=\"text-danger\"><ins>关注下方公众号</ins></span>上，如果发现有违反字节范，<span\n              className=\"text-danger\"><ins>可以进行投诉</ins></span>，会直接反馈给HR和相关Leader，保证推荐人的利益</li>\n            <li>更详细的规则请参考<span className=\"text-danger\"><ins>页面底部的链接</ins></span></li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction PublicService() {\n  return (\n    <div className=\"container\">\n      <HR />\n      <h6>公众号</h6>\n      <div className=\"AppInfo\">可以在公众号留言进行进度查询，问题反馈，投诉等</div>\n      <img src={publicQR} alt=\"\" />\n      <HR />\n      <h6>内推客服群</h6>\n      <div className='AppInfo'>加入字节客服群，了解更多信息</div>\n      <img src={customerServiceQR} alt='' style={{ width: '200px' }} />\n    </div>\n  )\n}\n\nfunction References() {\n  return (\n    <div className=\"container\">\n      <HR />\n      <h6>关于</h6>\n      <ol>\n        <li><a href=\"https://bytedance.feishu.cn/docs/doccniJHKFfh2kHt1j6J2TV2PIh\">字节内推金子塔细则</a></li>\n        <li><a href=\"https://bytedance.feishu.cn/docs/doccnN0CZOycd2340CY3CJESbxh\">关于该岗位的一些Q&A</a></li>\n      </ol>\n    </div>\n  )\n}\n\nfunction App() {\n  return (\n    <MainPage />\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}